<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-6">

<h1 class="text-3xl font-bold text-pink-600 mb-6">
  Admin Dashboard â€“ All Bookings
</h1>

<div class="overflow-x-auto bg-white rounded-xl shadow">
<table class="w-full text-left">
<thead class="bg-pink-600 text-white">
<tr>
  <th class="p-3">Name</th>
  <th class="p-3">Phone</th>
  <th class="p-3">Email</th>
  <th class="p-3">Plan</th>
  <th class="p-3">City</th>
  <th class="p-3">Date</th>
  <th class="p-3">Time</th>
  <th class="p-3">Status</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>
</div>

<script>
// ðŸ” Login protection
if(localStorage.getItem("adminLoggedIn") !== "true"){
  window.location.href = "about.html";
}

async function loadBookings(){
  const res = await fetch(
    "https://neha-makeup-website.onrender.com/api/bookings"
  );
  const data = await res.json();

  const tbody = document.getElementById("rows");
  tbody.innerHTML = "";

  data.forEach(b => {
    tbody.innerHTML += `
      <tr class="border-b hover:bg-pink-50">
        <td class="p-3">${b.name}</td>
        <td class="p-3">${b.phone}</td>
        <td class="p-3">${b.email}</td>
        <td class="p-3">${b.plan}</td>
        <td class="p-3">${b.city}</td>
        <td class="p-3">${b.date}</td>
        <td class="p-3">${b.time}</td>
        <td class="p-3 font-semibold text-pink-600">${b.status}</td>
      </tr>
    `;
  });
}

loadBookings();
</script>

</body>
</html>
