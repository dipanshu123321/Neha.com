<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Book Appointment | Neha Makeup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-pink-50 text-gray-800">

<!-- ðŸ”¹ BOOKING SECTION -->
<section class="py-20">
  <div class="max-w-5xl mx-auto px-6">

    <h1 class="text-4xl font-bold text-center text-pink-600 mb-10">
      Book Your Makeup Appointment
    </h1>

    <form id="bookingForm"
      class="bg-white rounded-3xl shadow-xl p-8 space-y-6
             hover:shadow-2xl transition">

      <!-- Name -->
      <input type="text" id="name" name="name" placeholder="Full Name" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400 outline-none"/>

      <!-- Mobile -->
      <input type="tel" id="phone" name="phone" placeholder="Mobile Number" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400 outline-none"/>

      <!-- Email -->
      <input type="email" id="email" name="email" placeholder="Email Address" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400 outline-none"/>

      <!-- Plan -->
      <select id="plan" name="plan" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400">
        <option value="">Select Plan</option>
        <option>Bridal Makeup â€“ â‚¹10,000 (Full Day)</option>
        <option>Engagement Makeup â€“ â‚¹5,000</option>
        <option>Party Makeup â€“ â‚¹2,000</option>
        <option>HD / Airbrush Makeup â€“ â‚¹7,000</option>
        <option>Family Package â€“ â‚¹2,000 / Hour</option>
      </select>

      <!-- City -->
      <select id="city" name="city" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400">
        <option value="">Select City (MP)</option>
        <option>Indore</option>
        <option>Bhopal</option>
        <option>Ujjain</option>
        <option>Dewas</option>
        <option>Ratlam</option>
        <option>Jabalpur</option>
        <option>Gwalior</option>
        <option>Sagar</option>
      </select>

      <!-- Date -->
      <input type="date" id="date" name="date" required
        class="w-full p-3 rounded-xl border focus:ring-2 focus:ring-pink-400"/>

      <!-- Time Slot -->
      <div class="flex gap-4">
        <label class="flex-1 text-center p-3 rounded-xl border cursor-pointer hover:bg-pink-100">
          <input type="radio" name="time" value="Morning" required hidden>
          ðŸŒ… Morning
        </label>

        <label class="flex-1 text-center p-3 rounded-xl border cursor-pointer hover:bg-pink-100">
          <input type="radio" name="time" value="Evening" hidden>
          ðŸŒ™ Evening
        </label>
      </div>

      <!-- Submit -->
      <button id="submitBtn" type="submit"
        class="w-full py-3 bg-pink-600 text-white rounded-xl
               hover:bg-pink-700 hover:scale-105 transition font-semibold">
        Book Now
      </button>

      <p id="formMsg" class="text-center text-sm mt-2"></p>
    </form>
  </div>
</section>

<!-- ðŸ”¹ CONTACT INFO -->
<section class="bg-white py-16">
  <div class="max-w-4xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-8">

    <div class="p-6 rounded-2xl shadow text-center">
      <h3 class="text-xl font-semibold mb-2">ðŸ“§ Email Us</h3>
      <p class="text-gray-600">nehamakeup@gmail.com</p>
    </div>

    <div class="p-6 rounded-2xl shadow text-center">
      <h3 class="text-xl font-semibold mb-2">ðŸ“ž Call Us</h3>
      <p class="text-gray-600">+91 98765 43210</p>
    </div>

  </div>
</section>

<!-- ðŸ”¹ JS (SAFE & CLEAN) -->
<script>
const form = document.getElementById("bookingForm");
const msg = document.getElementById("formMsg");
const submitBtn = document.getElementById("submitBtn");

let isSubmitting = false;

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  if (isSubmitting) return;   // ðŸš« duplicate submit block
  isSubmitting = true;

  submitBtn.disabled = true;
  submitBtn.textContent = "Submitting...";

  const data = Object.fromEntries(new FormData(form));

  msg.textContent = "Please wait...";
  msg.className = "text-pink-600 text-center";

  try {
    const res = await fetch("https://neha-com.onrender.com/api/book", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });

    const result = await res.json();

    msg.textContent = result.message;
    msg.className = "text-green-600 text-center";
    form.reset();

  } catch (err) {
    msg.textContent = "Server error. Try again.";
    msg.className = "text-red-500 text-center";
  }

  submitBtn.disabled = false;
  submitBtn.textContent = "Book Now";
  isSubmitting = false;
});
</script>

</body>
</html>

